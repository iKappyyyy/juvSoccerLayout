<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles/general.css">
  <link rel="stylesheet" href="styles/photo.css">
  <link rel="stylesheet" href="styles/screenshot-button.css">
  <link rel="stylesheet" href="styles/change-background.css">
  <link rel="stylesheet" href="styles/change-player.css">
  <link rel="stylesheet" href="styles/actual-photo.css">
  <title>PHOTO PAGE</title>
</head>
<body>

  <div class="photo js-photo">
  </div>

  <div class="image-content">
    <img class="background-image js-background-image" src="images/backgrounds/championsLeague.webp">
    <div class="player js-player" id="player1">
      <img src="images/nochoice.webp" class="head">
      <p class="player-name">? ? ?</p>
    </div>
    <div class="player js-player" id="player2">
      <img src="images/nochoice.webp" class="head">
      <p class="player-name">? ? ?</p>
    </div>
    <div class="player js-player" id="player3">
      <img src="images/nochoice.webp" class="head">
      <p class="player-name">? ? ?</p>
    </div>
    <div class="player js-player" id="player4">
      <img src="images/nochoice.webp" class="head">
      <p class="player-name">? ? ?</p>
    </div>
    <div class="player js-player" id="player5">
      <img src="images/nochoice.webp" class="head">
      <p class="player-name">? ? ?</p>
    </div>
    <div class="player js-player" id="player6">
      <img src="images/nochoice.webp" class="head">
      <p class="player-name">? ? ?</p>
    </div>
    <div class="player js-player" id="player7">
      <img src="images/nochoice.webp" class="head">
      <p class="player-name">? ? ?</p>
    </div>
    <div class="player js-player" id="player8">
      <img src="images/nochoice.webp" class="head">
      <p class="player-name">? ? ?</p>
    </div>
    <div class="player js-player" id="player9">
      <img src="images/nochoice.webp" class="head">
      <p class="player-name">? ? ?</p>
    </div>
    <div class="player js-player" id="player10">
      <img src="images/nochoice.webp" class="head">
      <p class="player-name">? ? ?</p>
    </div>
    <div class="player js-player" id="player11">
      <img src="images/nochoice.webp" class="head">
      <p class="player-name">? ? ?</p>
    </div>

    <div class="background-change-container">
      <button class="change-background js-change-background">שנה רקע</button>
      <div class="background-choices js-background-choices">
      </div>
    </div>
  </div>

  <div class="change-player-menu js-change-player-menu">
    <button class="exit-button js-exit-button">
      X
    </button>
    <div class="player-option" data-player-id="1">
      <img src="images/chose.png" class="player-preview-image">
      <p class="player-option-name">סקיבידי</p>
    </div>
  </div>

  <button class="screenshot-button js-screenshot-button">צלם</button>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" integrity="sha512-BNaRQnYJYiPSqHHDb58B0yaPfCu+Wgds8Gp/gU33kqBtgNS4tSPHuGibyoeqMV/TJlSKda6FXzoEyYGjTe+vXA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <script src="scripts/load-backgrounds.js" type="module"></script>
  <script src="scripts/changePlayer.js" type="module"></script>
  <script>
    const screenshotButton = document.querySelector('.js-screenshot-button');
    const image = document.querySelector('.image-content');

    screenshotButton.addEventListener('click', () => {
      const photo = image.cloneNode(true);
      photo.classList.remove('image-content');
      photo.classList.add('photo');
      document.body.append(photo);

      html2canvas(photo, {scale: 2}).then(canvas => {
        canvas.toBlob(blob => {
          try {
            navigator.clipboard.write([
            new ClipboardItem({'image/png': blob})
            ]);

            console.log('image copied lol');
          } catch (error) {
            console.log('shitos lo avad');
          }
        });
      });

      photo.remove();
    });

  </script>
  <script src="scripts/loadPhotoLayout.js" type="module"></script>
  
</body>
</html>